jQuery(function(d){function i(e){e.addClass("dd-lightbox"),e.click(),e.removeClass("dd-lightbox")}function t(e,i,t){var a=document.createElement("a");a.href=e,i&&a.setAttribute("target","_blank"),t&&a.setAttribute("download",""),a.click()}function a(e,i){var t={delegate:"img.dd-lightbox",type:"image",removalDelay:500,mainClass:"mfp-fade",showCloseBtn:!1,zoom:{enabled:!0,duration:500},callbacks:{elementParse:function(e){e.src=e.el.attr(i?"href":"src")}}};i&&(t.delegate=".et_pb_gallery_image>a.dd-lightbox",t.gallery={enabled:!0,navigateByImgClick:!0},t.autoFocusLast=!1),d(e).magnificPopup(t)}function s(e,i){d(e).magnificPopup({delegate:i,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,showCloseBtn:!1})}function r(e){var i=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|shorts\/|watch\?v=|\&v=)([^#\&\?]*).*/);return i&&11===i[2].length?"https://www.youtube.com/watch?v="+i[2]:e}function n(){d(".et_pb_image + .divimenu-overlay").each(function(){var e=d(this).prev(),i=e.find(".et_pb_image_wrap").first();i.parent("a").length||i.wrap('<a class="dd-no-media-link"></a>'),i.children(".et_overlay").remove(),i.addClass("divimenu-overlay-container").append(d(this).detach()),e.append(i.parent().clone().empty()),i.unwrap(),a(e,!1)}),d(".et_pb_blurb + .divimenu-overlay").each(function(){var e=d(this).prev(),i=e.children().children(".et_pb_main_blurb_image"),t=(i.css({position:"relative"}),i.find(".et_pb_image_wrap").first());t.children(".et_overlay").remove(),t.addClass("divimenu-overlay-container").append(d(this).detach()),t.parent("a").length?i.prepend(t.detach()):i.append(d('<a class="dd-no-media-link">')),a(e,!1)}),d(".et_pb_fullwidth_image + .divimenu-overlay").each(function(){var e=d(this).prev(),i=(e.addClass("divimenu-overlay-container"),e.children("a"));(i=i.length?i:e.children("img").wrap('<a class="dd-no-media-link">').parent()).css({"pointer-events":"none",display:"block"}),i.children(".et_overlay").remove(),i.append(d(this).detach()),a(e,!1)}),d(".et_pb_gallery + .divimenu-overlay").each(function(){var e=d(this).prev(),i=d(this).detach();e.find(".et_pb_gallery_image>a").each(function(){d(this).parent().addClass("divimenu-overlay-container"),d(this).css("pointer-events","none"),d(this).removeAttr("title"),d(this).children("span").remove(),d(this).append(i.clone())}),a(e,!0)}),d(".et_pb_video + .divimenu-overlay").each(function(){var e=d(this).prev(),i=(e.children(".et_pb_video_box").css("pointer-events","none"),e.children(".et_pb_video_overlay")),i=(i.length&&(i.css("pointer-events","none"),i.off("click"),i.children().remove()),e.addClass("divimenu-overlay-container").append(d(this).detach()),e.find("iframe").first());i.length&&d(this).children("a").attr("href",r(i.attr("src"))),s(e,".divimenu-overlay>a")}),d(".et_pb_slider").on("slide",function(){var e=d(this),i=d(this).find("video");i.length&&i[0]&&i[0].player&&setTimeout(function(){i.closest(".mejs-inner").find(".mejs-overlay-button").hide(),i[0].player.pause()},0),setTimeout(function(){e.find(".et-pb-active-slide .divimenu-overlay").each(function(){d(this).prev(".wp-video").length?d(this).css("width",d(this).prev(".wp-video").width()):d(this).css({width:d(this).siblings(".et_pb_video_box, img").width(),left:"50%",transform:"translate(-50%)"})})},100)}),d(".et_pb_slider + .divimenu-overlay").each(function(){var e=d(this).prev(),n=(e.addClass("divimenu-overlay-container"),d(this).detach());e.children().children(".et_pb_slide").each(function(){var e,i,t=n.clone(),a=d(this).find(".et_pb_slide_image, .et_pb_slide_video").first();a.hasClass("et_pb_slide_image")&&(t.css({width:a.children("img").width(),left:"50%",transform:"translate(-50%)"}),i=d("<a>").attr("href",a.children("img").attr("src")),a.prepend(i)),a.hasClass("et_pb_slide_video")&&(e=a.find("iframe").first()).length&&(i=d("<a>").attr("href",r(e.attr("src"))),a.prepend(i)),a.css("pointer-events","none"),a.append(t)}),a(e,!1),s(e.find(".et_pb_slide_video"),"video>a.dd-lightbox, a.dd-lightbox")}),d(".et_pb_video_slider + .divimenu-overlay").each(function(){var e=d(this).prev(),a=(e.addClass("divimenu-overlay-container"),d(this).detach());e.children().children().children(".et_pb_slide").each(function(){d(this).css("pointer-events","none");var e=d(this).children(".et_pb_video_wrap"),i=(e.children(".et_pb_video_overlay").find(".et_pb_video_play").remove(),e.find("iframe").first()),t=d("<a>");i.length?t.attr("href",r(i.attr("src"))):t.attr("href",e.find("video>source").attr("src")),e.append(t),e.append(a.clone())}),s(e,"a.dd-lightbox")}),d(".et_pb_blog_grid_wrapper + .divimenu-overlay, .et_pb_posts + .divimenu-overlay").each(function(){var e=d(this).prev(),i=d(this).detach();e.find(".et_pb_image_container").each(function(){d(this).parent().addClass("divimenu-overlay-container"),d(this).css("pointer-events","none");var e=i.clone();d(this).append(e)}),e.find(".et_pb_post.has-post-thumbnail>a").each(function(){d(this).parent().addClass("divimenu-overlay-container"),d(this).css("pointer-events","none");var e=i.clone();d(this).children("img").length&&e.css("width",d(this).children("img").width()),d(this).append(e)}),a(e,!1)}),d(".et_pb_portfolio + .divimenu-overlay, .et_pb_portfolio_grid + .divimenu-overlay, .et_pb_fullwidth_portfolio + .divimenu-overlay").each(function(){var e=d(this).prev(),i=d(this).detach();e.find(".et_portfolio_image").each(function(){d(this).parent().parent().addClass("divimenu-overlay-container"),d(this).parent().removeAttr("title"),d(this).parent().css({"pointer-events":"none",display:"inline-block"}),d(this).children(".et_overlay").remove();var e=i.clone();d(this).append(e)}),e.find(".et_pb_portfolio_image").each(function(){d(this).parent().addClass("divimenu-overlay-container"),d(this).children(".meta").css({"pointer-events":"none","z-index":"12"}),d(this).children().children().children(".et_overlay").remove();var e=i.clone();d(this).append(e)}),a(e,!1)}),d(".et_pb_shop + .divimenu-overlay").each(function(){var e=d(this).prev(),i=d(this).detach();e.find(".products").first().children(".product").each(function(){d(this).addClass("divimenu-overlay-container");var e=i.clone();e.css({"pointer-events":"auto",height:d(this).find(".et_shop_image").height()}),d(this).append(e),d(this).find(".et_shop_image").children(".et_overlay").remove()}),a(e,!1)}),a(".dd-media-lightbox",!1)}n(),d(document).on("divipasswords",function(e){setTimeout(function(){d.magnificPopup.close(),d(".et_post_gallery").each(function(){d(this).magnificPopup({delegate:".et_pb_post_gallery a",type:"image",mainClass:"mfp-fade"})})},500),n()}),d(document).on("click",".dd-media-lightbox .dd-item",function(e){e.preventDefault(),$img_parent=d(this).closest(".et_pb_image>span, .et_pb_fullwidth_image>a, .et_pb_main_blurb_image>*, .et_pb_slide_image, .et_pb_post.has-post-thumbnail>a, .project .et_portfolio_image, .et_pb_portfolio_image").add(d(this).closest(".et_pb_image_container").children("a").add(d(this).closest("li.product").find(".et_shop_image"))),$gallery_img=d(this).closest(".et_pb_gallery_image>a"),$video=d(this).closest(".et_pb_video").find(".divimenu-overlay>a").add(d(this).closest(".et_pb_slide_video").children("a").add(d(this).closest(".et_pb_slide_video").find("video a")).add(d(this).closest(".et_pb_slide>.et_pb_video_wrap").children("a"))),$dm_img=d(this).children("img").add(d(this).children(".dd-text-image, .dd-item-inner").children("img")),$img_parent.length?i($img_parent.children("img")):$gallery_img.length?($gallery_img.closest(".et_pb_gallery_items").find(".et_pb_gallery_image>a").addClass("dd-lightbox"),$gallery_img.trigger("click"),$gallery_img.closest(".et_pb_gallery_items").find(".et_pb_gallery_image>a").removeClass("dd-lightbox")):$video.length?i($video):$dm_img.length&&!$dm_img.hasClass("dd-lightbox")&&i($dm_img)}),d(document).on("click",".divimenu-overlay .dd-menu-button-content",function(e){e.preventDefault()}),d(document).on("mouseenter click",".dd-media-url .dd-mi",function(e){$a=d(this).closest(".et_pb_image, .et_pb_fullwidth_image, .et_pb_main_blurb_image, .et_pb_gallery_image, .et_pb_image_container, .et_pb_slide_image, .et_pb_post.has-post-thumbnail, .project, li.product").add(d(this).closest(".et_pb_portfolio_image").children(".meta")).children("a:not(.dd-no-media-link)"),$video=d(this).closest(".et_pb_video").find(".divimenu-overlay>a").add(d(this).closest(".et_pb_slide_video").children("a").add(d(this).closest(".et_pb_slide_video").find("video a")).add(d(this).closest(".et_pb_slide>.et_pb_video_wrap").children("a"))),$a.length&&-1===$a.attr("href").indexOf("data:image")?(e.preventDefault(),"mouseenter"===e.type?d(this).children("a").attr("href",$a.attr("href")):t($a.attr("href"),!0,!1)):$video.length&&(e.preventDefault(),"mouseenter"===e.type?d(this).children("a").attr("href",$video.attr("href")):t($video.attr("href"),!0,!1))}),d("body").on("click",".dd-download .dd-item",function(e){e.preventDefault(),$img_parent=d(this).closest(".et_pb_image>span, .et_pb_fullwidth_image>a, .et_pb_main_blurb_image>*, .et_pb_slide_image, .et_pb_post.has-post-thumbnail>a, .project .et_portfolio_image, .et_pb_portfolio_image").add(d(this).closest(".et_pb_image_container").children("a").add(d(this).closest("li.product").find(".et_shop_image"))),$media=d(this).closest(".et_pb_video").find(".divimenu-overlay>a").add(d(this).closest(".et_pb_slide_video").children("a").add(d(this).closest(".et_pb_slide_video").find("video a")).add(d(this).closest(".et_pb_slide>.et_pb_video_wrap").children("a"))).add(d(this).closest(".et_pb_gallery_image>a")),$dm_img=d(this).children("img").add(d(this).children(".dd-text-image, .dd-item-inner").children("img")),$img_parent.length?t($img_parent.children("img").attr("src"),!0,!0):$media.length?t($media.attr("href"),!0,!0):$dm_img.length&&t($dm_img.attr("src"),!0,!0)})}),function(e){e(window).on("load resize",function(){e(".et_pb_blurb").each(function(){e(this).find(".divimenu-overlay").css("width",e(this).find(".et_pb_image_wrap").first().width()),e(this).find(".divimenu-overlay").css("height",e(this).find(".et_pb_image_wrap").first().height())}),e(".et_pb_shop .product").each(function(){e(this).children(".divimenu-overlay").css("height",e(this).find(".et_shop_image").height())})})}(jQuery);